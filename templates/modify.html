{% extends "base.html" %}

{% block title %}Modify - Steam Game Database{% endblock %}

{% block content %}
    <h1>Add a Score for a Game</h1>
    
    <form method="post">
        <label for="game_name">Game Name:</label>
        <input type="text" id="game_name" name="game_name" placeholder="Enter game name" required>
        <br>
        <button type="submit">Search</button>
    </form>
    
    {% if results %}
        <h2>Search Results ({{ results|length }} found) for "{{game_name}}"</h2>
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Positive Ratings</th>
                        <th>Negative Ratings</th>
                        <th>Reviews (%)</th>
                        <th>Modify</th>
                    </tr>
                </thead>
                <tbody>
                    {% for game in results %}
                    <tr>
                        <td>{{ game[0] }}</td>
                        <td>{{ game[1] }}</td>
                        <td>{{ game[2] }}</td>
                        <td>{{ game[3] }}</td>
                        <td>
                            <form action="{{ url_for('update_rating') }}" method="post" style="display:inline;">
                                <input type="hidden" name="game_name" value="{{ game[0] }}">
                                <input type="hidden" name="field" value="positive_add">
                                <input type="hidden" name="search_term" value="{{ game_name }}">
                                <button type="submit">+ Positive</button>
                            </form>

                            <form action="{{ url_for('update_rating') }}" method="post" style="display:inline;">
                                <input type="hidden" name="game_name" value="{{ game[0] }}">
                                <input type="hidden" name="field" value="positive_remove">
                                <input type="hidden" name="search_term" value="{{ game_name }}">
                                <button type="submit">- Positive</button>
                            </form>

                            <form action="{{ url_for('update_rating') }}" method="post" style="display:inline;">
                                <input type="hidden" name="game_name" value="{{ game[0] }}">
                                <input type="hidden" name="field" value="negative_add">
                                <input type="hidden" name="search_term" value="{{ game_name }}">
                                <button type="submit">+ Negative</button>
                            </form>

                            <form action="{{ url_for('update_rating') }}" method="post" style="display:inline;">
                                <input type="hidden" name="game_name" value="{{ game[0] }}">
                                <input type="hidden" name="field" value="negative_remove">
                                <input type="hidden" name="search_term" value="{{ game_name }}">
                                <button type="submit">- Negative</button>
                            </form>
                    </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

    {% endif %}
    
    

{% endblock %}